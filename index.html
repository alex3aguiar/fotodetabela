<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <title>webcam</title>
        <script type="text/javascript">

          function PIP(){
          if(
        document.pictureInPictureEnabled && 
        !video.disablePictureInPicture) {
            try {
                if (document.pictureInPictureElement) {
                    document.exitPictureInPicture();
                }
                video.requestPictureInPicture();
            } catch(err) {
                console.error(err);
            }
    }
          
          }
          window.onload = function(){
              document.querySelector("#video");
console.log(video);
          navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia || navigator.oGetUserMedia;

          if (navigator.getUserMedia) {
              navigator.getUserMedia( {
                  video : true
              },
              handleVideo, videoError);
          }

          function handleVideo(stream) {
          video.srcObject = stream;
      video.load();
      video.play();
          }

          function videoError(e) {
              // do something
          }

          }; 
        </script>
    </head>
    <body>
        <table border="1" width="900" align="center">
            <tr align="center">
                <td>
                    Web Camera
                    <div id="camera" style="height:300px; width:400px; border-style:solid;">
                        <video id="video" width="400" height="300"></video>
                    </div>
                </td>
            </tr>

            <tr align="center">
                <td colspan="2">
                    <button id="snap" onclick="PIP()">Go to foto de tabela</button>
                </td>
            </tr>
        </table>
        <textarea id="result"
          rows="5" cols="33">
It was a dark and stormy night...
</textarea>
    </body>
</html>
